<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>Dist-Nx: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Dist-Nx
   &#160;<span id="projectnumber">1.2</span>
   </div>
   <div id="projectbrief">An Arduino library to use DIST-Nx Mindsensors sensor</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Dist-Nx Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h3>About</h3>
<p>Dist-Nx is a Arduino library to use <a href="http://www.mindsensors.com/index.php?module=pagemaster&amp;PAGE_user_op=view_page&amp;PAGE_id=73">Dist-Nx sensors</a>.</p>
<p>Distance registers provide Distance information in millimeters. Voltage registers provide the raw voltage in milli-volts.</p>
<h3>Requirements</h3>
<p>You need <a href="http://dsscircuits.com/articles/arduino-i2c-master-library">Arduino I2C master library</a> to use the library because the Wire library issued with the Arduino IDE does not support the whole I2C protocol, for instance <em>repeat start</em>.</p>
<h3>Features</h3>
<ul>
<li>[x] LSB distance (long distance)</li>
<li>[x] LSB voltage</li>
<li>[x] MSB distance (medium distance)</li>
<li>[x] MSD voltage</li>
<li>[x] ADPA mode</li>
<li>[x] Get sensors data</li>
<li>[x] Switch off/on sensor</li>
<li>[x] Connect to an I2C customized Address</li>
<li>[x] Change I2C address</li>
<li>[ ] Calibration</li>
<li>[ ] Data point measures</li>
</ul>
<h3>Installation (Unix like systems)</h3>
<p>Open a terminal and run : </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;$ cd &lt;UserDirectory&gt;/Arduino/libraries</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;$ git clone https://github.com/blasterbug/Dist-Nx.git</div>
</div><!-- fragment --><p>Or if you prefer, download the zip (of the last release) and directly unzip it in the <code>Arduino/libraries</code> folder.</p>
<p>Now after (re)starting the Arduino IDE you should see Dist-Nx in Arduino libraries menu. Two exemples are provided with the library.</p>
<p>Get more details on <a href="https://www.arduino.cc/en/Reference/APIStyleGuide">Arduino libraries installation guide</a>.</p>
<h3>Example</h3>
<p>Here is an exemple of the minimal code to use the sensor. The programme display every second the measured long distance.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;// import libraries</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;#include &lt;I2C.h&gt;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;#include &lt;DistNx.h&gt;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;DistNx sensor;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;int distance;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;void setup()</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;{</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;  // start serial communication</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;  Serial.begin( 9600 );</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;  // join I2C bus</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;  I2c.begin();</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;}</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;void loop()</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;{</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;  // get long distance</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;  distance = sensor.longDistance();</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;  // display distance</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;  Serial.print( F(&quot;long distance = &quot;) );</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;  Serial.print( distance );</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;  Serial.println( F(&quot; mm&quot;) );</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;  // wait 1 second</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;  delay( 1000 );</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;}</div>
</div><!-- fragment --><h3>Documentation</h3>
<p>Read the documentation on the repository wiki <a href="https://github.com/blasterbug/DistNx/wiki">here</a> or you can generate it with Doxygen as follow.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;$ doxygen Doxyfile</div>
</div><!-- fragment --><p> After printing some ouput, you should get a <code>html</code> folder. Then open <code>index.html</code>in your favorite web browser. Of course, source code is commented.</p>
<h3>About ADPA</h3>
<p>This sensor supports Auto Detecting Parallel Architecture (ADPA) for sensors. This means that DIST-Nx can coexist with LEGO or third party digital sensors on a single I2C bus. This enables user to employ several sensors on the same bus without the need of external sensor multiplexer, reducing the overall size and cost. By default, the ADPA mode is disabled. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
